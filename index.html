<!doctype html>

<!--
25.11.3. Create Form Inputs
Let's build out the form in index.html. We will need some data for the search engines we want to work with.

Search Engine Options
Label	Value	Search URL
Google	google	https://www.google.com/search
DuckDuckGo	duckDuckGo	https://duckduckgo.com/
Bing	bing	https://www.bing.com/search
Ask	ask	https://www.ask.com/web
Create a text input within the form and set its name attribute to the value "q".
Create a radio group with one radio button for each search engine. Recall that radio buttons with the same name are grouped, so use the same value for this attribute, "engine", on each radio button.
Create a label element for each radio button.
Finally, add a submit button to the form and set it's value to "Go!".
-->
<!--
So a GET reqeuest is just the URL, a ?, a p, and equal sign and the search phrase
So www.google.com/search?p=test
-->
<head>
	<meta charset="utf-8">
	<script>
		// TODO: create a handler
    window.addEventListener("load", function() {
			// TODO: register the handler
			console.log("Load listener loaded");
			let form = document.getElementById("searchForm");
			let actionUrl = "";
			let engine = form.searchEngine;
//			engine.value = "google";
			searchText.value = "chicken soup book";
			form.addEventListener("submit", function() {
				console.log("Submit listener loaded")
				// TODO: register the handler
				alert("Text to search for: " + searchText.value);
				alert("Value of searchEngine: " + engine.value);
				textCheck = searchText.value === "";
				console.log(engine.value);
				console.log(typeof engine.value);
				engineCheck = (typeof engine.value) !== "string";
				console.log("textCheck: " + textCheck);
				console.log("engineCheck: " + engineCheck);
				
				if (engineCheck || textCheck) {
					event.preventDefault();
					alert("All fields required.. Please try again.");
				}
				if (engine.value === "google") {
					actionSite = "https://www.google.com/search";
					console.log("google")
				}
				else if (engine.value === "duckDuckGo") {
					actionSite = "https://duckduckgo.com/";
					console.log("duckDuckGo")
				}
				else if (engine.value === "bing") {
					actionSite = "https://www.bing.com/search";
					console.log("bing")
				}
				else if (engine.value === "ask")  {
					actionSite = "https://www.ask.com/web";
					console.log("ask")
				}
				else {
					actionSite = "";
				}
				console.log(actionSite);
				console.log("?p=");
				console.log(searchText.value);
				console.log(typeof actionSite);
				console.log(typeof actionUrl);
				console.log(typeof searchText.value);
				actionUrl = actionSite + "?p=" + searchText.value;
				console.log("Action URL changed to:" + actionUrl);
				form.action = actionUrl;
			});
    });
	</script>
	<style>
		//
	</style>
</head>

<body>
	<h3>Super Duper Extra Special Fantastic Magic Multi Search Engine Searcher</h3>
	<form id="searchForm" method="GET" actxion="https://handlers.education.launchcode.org/request-parrot">
		<label>Enter search terms <input name="searchText" id="searchText"></label>
		<label><input type="radio" id="google" name="searchEngine" value="google"> Google</label>
		<label><input type="radio" id="duckDuckGo" name="searchEngine" value="duckDuckGo"> DuckDuckGo</label>
		<label><input type="radio" id="bing" name="searchEngine" value="bing"> Bing</label>
		<label><input type="radio" id="ask" name="searchEngine" value="ask"> Ask</label>
		<button id="go">Fetch my results, peasant!</button>
	</form>

</body>